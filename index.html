
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hron's blog</title>
  <meta name="author" content="Gábor Garami" />

  
  <meta name="description" content="Twitteren volt egy ilyen üzenetváltás: @hron84: Kiprobaltam megint a #gentoo -t. Mar elfelejtettem, hogz mennyit kell
varni egy firefoxra. [&#8230 &hellip;" />
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  
  <link rel="canonical" href="http://hron.me/" />
  <link href="/favicon.ico" rel="icon" type="image/x-icon" />
  <link href="/stylesheets/blueprint/reset.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/blueprint/typography.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/application.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/code.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Hron's blog" type="application/atom+xml" />
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', "UA-20858841-1"]);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div id="header"><!-- <hgroup>
  <h1><a href="/">Hron's blog</a></h1>
  
    <h2>Who want to fly with doves loses the treasure down here</h2>
  
</hgroup> -->
<a class="logo" href="http://hron.me/"><img src="/images/bear-logo.png" alt="bear with earphone"></a>
<div class="userbox">



  
  <form action="http://google.com/search" method="get" class="search">
    <!-- <fieldset role="search"> -->
      <input type="hidden" name="q" value="site:hron.me" />
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <!-- </fieldset> -->
  </form>
  
  <div class="avatar"><a href="/" class="name">Hron's blog</a></div>
  <ul class="subscription usernav" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
  
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>

</ul>



</div>

</div>
  <!-- <nav role="navigation"><ul class="subscription usernav" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
  
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>

</ul>


</nav> -->
  <div id="main" class="site dashboard">
    <div class="pagehead">
      <nav rel="navigation">
        <ul class="actions">
             <li><a href="/">Kezdőlap</a></li>
             <li><a href="/about/">Bemutatkozás</a></li>
         </ul>
      </nav>
      
    </div>

    <div id="content" class="columns container">
      <div class="blog-index first">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/gento-para-vagy-nem-para/">Gento - Para vagy nem para</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>Twitteren volt egy ilyen üzenetváltás:</p>

<blockquote><p>@hron84: Kiprobaltam megint a #gentoo -t. Mar elfelejtettem, hogz mennyit kell
varni egy firefoxra. [&#8230;]
@team4world: @hron84 lehet én is kipróbálom. Mennyire parás egy frissítés?
@hron84: @team4world Ha mindenbol csak stabil verziot hasznalsz, akkor abszolut
nem para. Ha elkezdesz a testing arch-csal ismerkedni, figyelni kell.
@hron84: @team4world Lehet este osszeszedek egy cikket az ajanlott konfigrol.
@team4world: @hron84 az nagyon jó lenne!</p></blockquote>

<p>Itt tartunk tehát most. Nem aznap este lett ugyan összeszedve, de hát az &#8220;aznap&#8221;
szó nem is szerepelt a twittben :-). Na jó, evezzünk komolyabb vizekre.</p>

<p>El■rebocsátom, hogy ez nem egy Gentoo tutorial lesz, nem fogok minden fogalmat
elmagyarázni, csak a legszükségesebbeket. Ha nem értesz valamit, ott a <a href="">Gentoo
Handbook</a>, ott a <a href="">Gentoo Wiki</a>, olvass utána. Ennek els■sorban terjedelmi
okai vannak, a Gentoo-ról szóló irományokkal egy könyvtárat meg lehet tölteni
(s■t, bizonyos értelemben ez már
<a href="http://www.gentoo.org/doc/index.xml">megtörtént</a>), ez meg itt csak egy blog.</p>

<h2>Para vagy nem para?</h2>

<p>Mehéz kérdés, mert mindenkinek mást jelent a &#8220;parás&#8221;. Én, aki cirka 3-3.5 évet
tuti lehúzott Gentoo desktop mellett, mást érzek parásnak, mint az, aki most
adja ki élete els■ emerge parancsát. Szóval az els■ körös válaszom kicsit
sántít, mert valójában nincs egzakt válasz a dologra.</p>

<p>Van, akinek para az, hogy egy Firefoxra - gépt■l függ■en - fél és két óra között
kell várni. Nekem nem volt az, mert én ezzel már tisztában voltam, így a
telepítés során el■bb a Google Chrome-t tettem fel, és csak részben azért,
mert az elmúlt két évben ez vált az els■dleges böngész■mmé, jobban belejátszott,
hogy ez csak bináris formában van jelen (elérhet■ a Chromium is, forrásból
fordul, de ezt még binárisan se szeretem, néha ugyanis bugosabb, mint a Chrome,
nem tudom, miért).</p>

<p>Van, akinek para az, hogy több, ún. <strong>slot</strong> van, ami annyit takar, hogy egy
adott nev■ csomagból többféle verzió is lehet a gépünkön (gondoljunk a PHP-re,
az 5.3 és az 5.4 az két különböz■ PHP-nak számít), és ha nem az alapértelmezett
slot verziót szeretnénk, akkor célzottan kell telepíteni és maszkolni azt, amit
nem szeretnénk (esetünkben én nem vagyok olyan nagy PHP 5.4 fan, akkor sem, ha a
hardcore PHP-sok ezért megszólnak, szóval én hanyagolom azt a verziót).</p>

<p>Szóval hogy mi para és mi nem, az egyénfügg■. Nagyon fontos dolog, hogy a Gentoo
egy teljesen más hozzáállást igényel, mint a legtöbb disztró. Ez els■sorban arra
irányul, hogy pontosan tisztában kell lenned azzal, hogy mit és hogyan
szeretnéd, valamint nagyon oda kell figyelned arra, hogy mit csinálsz. Ha
valamit nem értesz, nem lehet elbliccelni, utána kell olvasni, át kell gondolni,
sokszor. De cserébe egy végletekig testreszabható rendszert kapsz, és ez nagyon
sokszor megéri.</p>

<h2>Ajánlott hardverek</h2>

<p>Töprengtem, hogy ne az legyen az alcím, hogy &#8220;Milyen hardvert ne vegyek&#8221;, de
aztán arra gondoltam, hogy nem leszek ennyire destruktív.</p>

<p>Szóval, Gentoo esetében legyen egy jó procid, lehet■leg sok maggal,
HyperThreading kiemelten jó, ha van és be is van kapcsolva. Minél több
processzort listáz a /proc/cpuinfo, annál hamarább végzel a telepítéssel.</p>

<p>Legyen továbbá sok RAM-od. 2G RAM alatt eszünkbe se jusson Gentoo-t telepíteni!
Tapasztalataim szerint 3-4G RAM az, amivel már t■rhet■ (pontosabban kivárható)
id■ alatt összeáll valami rendszernek már nevezhet■ tárgy.</p>

<p>A winyó kiemelten fontos. Nem csak a tárhely (a gyökérre lehet nyugodtan 30G-t
szánni, meghálálja a rendszer, a home legyen külön partíció) fontos, de a
merevlemez pörgési sebessége is. Ha 5400 RPM-es merevlemezünk van, ne egy bödön,
hanem két bödön kávét készítsünk be. Ezt az infót szokás elrejteni a merevlemez
címkéjén, vagy akár le is hagyni, így telepítés el■tt mindenképp nézzünk el a
Google felé, a merevlemez típusszámával, az els■ három találat a gyártó
datasheetjére fog vinni, ha nem, tegyük hozzá, hogy &#8216;speed&#8217;. SSD felhasználók
itt komoly el■nnyel indulnak.</p>

<h2>Mit rakjak fel?</h2>

<p>Kezd■knél ez nagyon gyakori kérdés, és a kellemetlen élmények nagy része az ezen
kérdésre adott rossz válaszokból adódik. Tisztában kell lennünk azzal, hogy a
Gentoo egy <em>forrásalapú</em> rendszer, vagyis a <em>bináris</em> rendszerekkel ellentétben
itt a legtöbb csomag a <strong>gépünkön, forrásból fordul</strong>, legyen szó a GCC-r■l vagy
a Gitr■l. Van néhány olyan csomag, ami elérhet■ binárisban is, vagy épp
kizárólag abban mert a gyártó nem tette elérhet■vé a szoftver forrását. Ez
utóbbira példa az Adobe Flash playere, az el■bbire pedig a LibreOffice, mert
err■l köztudott, hogy még er■s gépen is fél nap egy fordítás.</p>

<p>Én az alábbi metodikát követem:</p>

<ul>
<li>El■ször összerakok egy alaprendszert. Legyen konzolom, legyen egy friss és
jól m■köd■ kernelem, Grub (1-es mert én azt szeretem), hálózatom, meg más
effélék, egyszóval álljon meg a saját lábán a rendszer, ne kelljen hozzá
LiveCD. Szerencsés esetben ez olyan 2 óra alatt abszolválható feladat,
kezd■knek se sokkal több.</li>
<li>Következ■ lépés: Legyen egy alap grafikus felületem. Itt általában már
felteszem a kérdést: most rögtön akarok a rendszerrel dolgozni, vagy van id■m
hogy mindent klappoljon? Ha az els■ a válasz, akkor mindenféle preferenciát
figyelmen kívül hagyva, komolyabb USE flag állítgatások nélkül felszórok egy
IceWM-et, egy Google Chrome-t, meg valami terminált, mondjuk XTerm-et. Ez
<strong>nem</strong> eredményez összkomfortos rendszert, ennek csak az a célja, hogy
miközben a ház épül-szépül, legyen hol dolgozni meg aludni. Amennyiben
ráérek, átugrom ezt a pontot.</li>
<li><p>Ezután rá lehet térni a preferenciáknak megfelel■ rendszer telepítésére.
El■ször mindig az USE flag állítgatásokat kezdem el. Mivel én GNOME-fan
vagyok, így a make.conf -ba mindenképpen bekerülnek a <code>gnome</code>, <code>gtk</code>, <code>avahi</code>
flagek, ezen felül PulseAudio-ellenes vagyok, így a <code>alsa</code> és <code>-pulseaudio</code>
is. Elég jó alapbeállításokat lehet szerezni az <code>eseletc profile list</code>
kimenete alapján kiadott <code>eselect profile set &lt;szám&gt;</code> paranccsal is, ahol a
<code>&lt;szám&gt;</code> a lista elemei mellett látható számot jelenti, kockás zárójelek
nélkül.
Sorrendileg el■ször mindig a konzolos cuccokat szoktam felszórni, nem csak
azért, mert ezek hamar fordulnak, hanem mert ezeket utána már tudom
használni, amíg a grafikus cuccok születnek. A teljesség igénye nélkül egy
kis lista:</p>

<ul>
<li>flaggie: hasznos cucc a csomagonkénti USE flag es keyword állításra. Ezen
felül tud licenceket is elfogadni, de én általában minden licencre
rábólintok, mert így könnyebb az életem. A /usr/portage/licenses alatt
lehet kultúrálódni egyébként.</li>
<li>portage-utils: újabban része a stage3 alaprendszernek. Hasznos kis utilityk
gy■jteménye, a <code>q --help</code> parancs nagyon szolgálatkészen mutatja be ■ket
egyenként.</li>
<li>eix: A Google helyi megfelel■je :-). Alapvet■en csomagkeresgélésre
használható, részletes információkkal szolgál arról, hogy milyen csomagok
érhet■ek el a rendszerben. A kézikönyvekben ajánlott <code>emerge --sync</code>
parancs helyett (ha már fenn van az eix<code>mindig az</code>eix-sync` parancsot
használjuk, mert ez frissíti az eix adatbázisát is a sync végén, plusz ad
egy kedves listát az ■j/frissült/törölt csomagokról. Ezt gondosan
tanulmányozzuk.</li>
<li>gentoolkit: Szintén hasznos csomagkezel■ gyüjtemény. Én egy parancsot
használok bel■le permanensen, a többit csak szükség esetén, ez pedig a
glsa-check. Mind desktopon, mind pedig szerveren kiemelten fontosnak tartom
ugyanis, hogy ne legyen fenn olyan csomag, melyben ismert sebezhet■ség van.
Egy id■ után hajlamos az ember rászokni arra, hogy ha egy frissebb verzió
bugos lenne egy adott csomagból, akkor a bugos verziót és afelettieket
kimaszkolja, majd az egészet elfelejtse. Ilyenkor jó a glsa-check, ami
figyelmeztet, hogy bizony-bizony abba a verzióba már találtak egy komoly
bugot, és talán érdemes lehet megfontolni a frissítést.</li>
<li>eselect és pluginjei: maga az eselect szintén az alaprendszer része, a
pluginjei pedig a legtöbb esetben a hozzátartozó csomaggal kerülnek fel. Az
update-alternatives-nek felel meg, csak kissé okosabb és színesebb. Érdemes
ismerkedni vele.</li>
<li>bash-completion: akinél a Tab billenty■r■l már lekopott a festék (mint
nálam :-) ), annak kötelez■ elem. Konfigur■lni eselect-tel lehet, hogy mely
kiegészítések legyenek engedélyezve. Figyeljünk, hogy alapértelmezés
szerint per-user állítgatjuk ezeket, globális engedélyezéshez használjuk a
<code>--global</code> kapcsolót.</li>
<li>mc: kell-e bemutatni a Midnight Commandert? Szerintem nem. Figyeljünk, hogy
kapjon <code>samba</code> és <code>sftp</code> flageket valahonnan, különben félkarú óriás. A
<code>slang</code> flag pedig a szép magyar felülethez segít hozzá minket.</li>
<li>nano: Ha mcedit pártiak vagyunk, akkor nem érdekes, ha vim/emacs pártiak,
nézzünk rá erre a kis editorra, amíg kedvencünk fordul. Syntax coloring,
keresés, vágólap&#8230; és egyszer■ használat. Része az alaprenszernek.</li>
<li>sudo: sajnos nem része az alaprendszernek ez a kötelez■ kis program. Tegyük
fel, alig van függ■sége.</li>
<li>layman: a küls■ csomagtárólók kezel■je. Okosan paraméterezve rögtön
feldobja a 3 legnépszer■bb verziókezel■t is, függ■ségként.</li>
</ul>


<p>Ezután jön a grafikus rendszer. GNOME pártiként én a gnome-light csomaggal
indítok, ez egy metacsomag, semmit nem telepít, csak függ■ségei vannak, mint
egy rossz drogosnak. Viszont mindent felrak, ami egy alap GNOME desktophoz
kell. Emellé érdemes beütemezni a xorg-x11 csomagot is, ami a grafikus
felület megjelenítését szolgáló X11 szervert rakja fel.</p>

<p>Ezután jön a grafikus rendszer. GNOME pártiként én a gnome-light csomaggal
indítok, ez egy metacsomag, semmit nem telepít, csak függ■ségei vannak, mint
egy rossz drogosnak. Viszont mindent felrak, ami egy alap GNOME desktophoz
kell. Emellé érdemes beütemezni a xorg-x11 csomagot is, ami a grafikus
felület megjelenítését szolgáló X11 szervert rakja fel.
Figyeljünk arra, hogy ha sehol másutt nem is, de itt mindenképpen használjuk
az emerge <code>--ask</code> vagy <code>--pretend</code> kapcsolóinak egyikét,
hogy kiírja, mit telepítene. Azért fontos, mert els■ körben be
kell l■ni a videókártya és a beviteli eszközök típusát a make.conf -ban, és
itt egész jó tippeket kapunk a lehetséges értékekr■l a xorg-drivers sorában.
Ne feledjük, hogy a minusz jel mindig kivonást jelöl, vagyis az nincs
kiválasztva. Beviteli eszköznek általában a <code>keyboard</code>-ot, a <code>mouse</code>-t és az
<code>evdev</code>-et szoktam választani (ez utóbbi mindenképp kell), tapipad mániákusok
ne feledjék a <code>synaptics</code>-ot is kérni az eladótól a meglepetések elkerülése
okán.
Kell egy jó login manager is, GNOME esetében ez a GDN, bár én most LightDM-et
raktam fel, csak úgy próbából. Nem rossz, de a GDM jobb.</p>

<p>Most jövök rá, hogy KDE  fanok is vannak itt. Nekik rossz hírem van: nem
nagyon tudok mit ajánlani, mert ritkán vetemedek KDE használatra, mostanság
ez a
gyakoriság a sohához tendál. Asszem a kdebase-startkde csomag visz el az
alaprendszerig, kdm csomag van, és a kde-l10n csomagtól lehet várni
lokalizációt. A xorg-x11 pedig itt is kötelez■ elem.</p>

<p>Figyeljünk arra, hogy amennyiben nem KDE desktop a cél, els■ két körben
tiltsuk a <code>qt4</code> USE flaget, mert ez magával hozná a Qt grafikus könyvtár
telepítését, ami elég hosszadalmas móka. KDE-s álmok esetében viszont épp
ellenkez■leg: engedélyezzük, méghozzá minél koraibb szakaszban, a KDE-s
cuccok nagy része le fogja fikázni a rendszerünket, ha nincs mindenütt Qt
támogatás.</p>

<p>Grafikus cuccokra ajánlatok:</p>

<ul>
<li>Porthole: Gtk alapú csomagkezel■, Debianon Synaptic-nak hivnak egy ehhez
nagyon hasonló cuccot. Az USE flag kezel■jének használatát lehet■leg
mell■zzük, a Ctrl+R megnyomására feljöv■ parancssorból használjuk a
flaggie-t. Igy nem érnek meglepetések egy frissítésnél. KDE rendszerhez a
Kuroo jobb, de a Kuroo4 fejlesztése még igen aktívan tart, nem tudom,
mennyire stabil a cucc. USE flageket itt is inkább flaggie-vel, bár a régi
Kuroo (a KDE 3-as) rendesen kezelte a package.use fájlt.</li>
<li>Gitg: Roppant hasznos cucc, ha Git-tel dolgozunk. Soronként stage-elhet■
commit és history tallózó segíti a munkát.</li>
<li>NetworkManager: furcsa, de nem alapértelmezett a telepítése. Desktopon,
wifi-mentes környezetben nincs is rá szükség, laptopon viszont
kötelez■ elem, a hálózati konfigokat másképp nem fogjuk tudni kényelmesen
managelni. A hasonló nev■ (csak végig kisbet■s) USE flag beállítása
szintén fontos. Régebben volt valami PolicyKites para, de úgy tudom, az
már megoldódott, mert más disztróban is volt, és azokban már meg van
oldva.</li>
</ul>
</li>
</ul>


<h2>Frissítés</h2>

<p>Ide jön az, amit els■ körben válaszoltam a kérdez■nek: ha mindig csak stabil
cuccokkal dolgozol, akkor nincs para, a Gentoo fejleszt■knél elég szigorú a QA,
ha nincs elég community visszajelzés a csomagr■l, akkor nem is lesz stabil.
Viszont amíg van komoly hiba vele, szintén nem lesz az. Vagyis stabil csomag
általában csak stabil dologból lesz. Néha el■fordulnak csomagolói melléfogások,
véletlen stabilnak jelölések, de ez szimpla emberi mulasztás, és nagyon-nagyon
ritka, mindenesetre érdemes hetente ellátogatni a Gentoo f■oldalára, és
csekkolni a híreket.</p>

<p>Azért arra mindenképp figyeljünk, hogy <strong>legalább hetente egyszer futtassuk meg
a frissít■ parancsot</strong> (ez az <code>emerge -DuNa world</code>), célszer■en hétvégén, vagy
lefekvés el■tt. Reggelre tuti végez. Ha nagyon nincs id■nk, havinál ritkább
frissítést akkor se ütemezzünk, különben nagyon sokat kell várnunk.</p>

<p>Para akkor szokott lenni, ha küls■ csomagtárolókbol (layman) teszel fel
testinges (~ arch-os, ez egy tilde jellel prefixelt architektúra nevet, pl.
~amd64 jelent) csomagokat. Nagy para meg akkor, ha nagyon bevállalós vagy, és
kipróbálsz pl. live ebuildeket (közvetlenül verziókezel■b■l forduló csomagokat),
vagy két csillaggal megjel■lt unstable cuccokat (a live ebuildek egyébként ez
utóbbiak részhalmazát képezik). Kezd■knek és középhaladóknak nagy ívben
kerülend■ terület ez.</p>

<p>A fenti parancsot használva néha megjelennek sárga USE flagek is a csomagok
mellett. Ez azért van, mert a <code>-N</code> kapcsoló a USE flag frissülésekre is rámegy,
ez ugyanis sokszor valamilyen plusz támogatást is jelent, verzióváltás nélkül.
Bekapcsolt <em>ccache</em> mellett, ha csak kikapcsolt flag került be, a csomagok
secc-pecc lefordulnak, ha van, akkor pedig gazdagabbak leszünk egy, az
igényeinknek jobban megfelel■ csomagnak (amennyiben az USE flageket a saját, és
nem a szomszéd igényei alapján állítottuk be).</p>

<p>A frissítéseknél lehet azért trükközni. A <code>-DuNa</code> mindent felsorol, ami épp
frissülni akar, de ha mondjuk nem akarunk egy Firefox forgatásba belekezdeni,
akkor csinálhatjuk úgy is, hogy kézzel felsoroljuk a frissítend■ csomagokat egy
<code>emerge -u1</code> parancs argumentumaiként, verziószám nélkül, kihagyva a Firefoxot,
egy kés■bbi id■pontban frissítve azt.</p>

<p>Nagyjából ennyi lenne. Elég hosszúra nyúlt ez az írás is, nem véletlenül mondtam
az elején, hogy könyvtárakat lehet megtölteni a Gentoo-ról szóló
ismeretanyagokkal.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/rename-windows-8-profile-dir/">Rename Windows 8 Profile dir</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, I ran into a weird situation: when I installed Windows, I used Live account to create my user.
In preview version of Windows 8 it created a profile dir based on the user part of e-mail address
of the Live account, so from hrgy@live.com it created an user hrgy with same profile dir. However,
the final version is changed it to create account based on your first name, it was &#8220;Gábor&#8221; in this
case. Notice the accented second letter.</p>

<p>The problem with folders containing non-ASCII char in its name is obvious: not all program can handle
it correctly. It has a displaying problems in some apps, and some apps cannot create their files in
this profile.</p>

<p>The fix was not so easy but I now describe required steps.</p>

<p>First if you do not have an another administrator user than you, then you have to create it. Windows 8
does not allow to log into the built-in Administrator account anymore, so you have to create one in
Control Panel. It&#8217;s pretty straighforward and net contains a bunch of howtos for it, so I skip describing
this step.</p>

<p>Now, log out from your account, and log in into the new one.</p>

<p>Start <code>regedit</code> and navigate to <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList</code></p>

<p>In the subkeys (subfolders) find one what displays your old dirname in <code>ProfileImagePath</code> attribute. In my
case the value was <code>C:\Users\Gábor</code>. Right click, edit and replace last part of the path to what you want to use.</p>

<p><strong>Important:</strong> Even if world collapsing, <strong>do not log in into your own account (what being modified)</strong>
until you finish these steps!</p>

<p>Then, you have to reboot into Safe mode. The easiest way is press <code>Shift + F8</code> during boot. If you
seeing the Windows splash displaying in &#8220;wrong&#8221; resolution then you are in Safe mode.</p>

<p><strong>Important:</strong> you have to log in into the newly created admin account, <em>not</em> into your own one!</p>

<p>Then you have to rename your profile folder. Start a command prompt in Safe mode, and type following:</p>

<pre><code>cd C:\Users
move old_name new_name
</code></pre>

<p>The <code>old_name</code> is the old name of your profile directory, the <code>new_name</code> is what you specified in RegEdit. In
my case it was:</p>

<pre><code>cd C:\Users
move Gábor hron
</code></pre>

<p>Now you are done! If you striclty follwed this tutorial, then if you reboot and log in into your account, you do not see
any change, except the %USERPROFILE% environment variable carries the new name.</p>

<p><strong>Note:</strong> I saw only one bug: iCloud Photo stream stored the full path of my Pictures folder in its database and I had to relocate it.
It&#8217;s a bug in iCloud, not a Windows problem.</p>

<p><em>Disclaimer: This tutorial is tested by me but I do not guarantee anything. Take a backup from your important data before start doing
this. I am not responsible if your data lose, you cannot login anymore or your kitten vanishes.</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/nginx-es-php/">Nginx és PHP</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>Az <a href="http://hron.me/blog/2013/01/nginx-bevezeto/">előző</a> cikkben alapszinten megismerkedtünk az Nginx-szel,
valamint megtudtuk, mitől és miben gyorsabb, mint a kihívójának szánt Apache.</p>

<p>Ebben, és a következő cikkben azt vizsgáljuk, hogy hogyan tudunk egy PHP alapú site-t futtatni vele, például
egy Drupal alapú portált.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/03/nginx-es-php/">More &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/hazi/">Házi, magam sütöttem</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>A cím az utolsó betűig igaz - de csak addig. Pár hete (hmm&#8230; hónapja?) jártam-keltem a KÖKI Terminálon nyílt Tescoban, és nem tudtam elmenni egy fahéjas sütemény mellett, nevetséges áron volt, &#8220;Hamar kész&#8221; - hirdette a felirat. Naná hogy vettem.</p>

<p>Ma jutottam el odáig, hogy megint eszembe jutott (egy fenét, pár napja kerestem valamit a fagyasztóban és szembejött), mondom pocsékba ne vesszen már, megcsinálom.</p>

<p>Szóval, vettem egy nagy levegőt, meg egy még nagyobb tepsit (úgy értem, a levegőnél&#8230;) és belevágtam. A címke szerint 80 percet kell pihentetni, hát gondoltam, ez nem olyan betű szerinti dolog, hogy percre kellene betartani, ebédcsinálás előtt kiraktam, ebéd + pihi után álltam neki megcsinálni. Volt az 90-120 perc is, de ki számolja&#8230;</p>

<p>Aztán olyat mondott a címke, hogy vegyek sütőpapírt, borítsam a tepisbe, és utána rá a sütit. Na most nekem elég sokféle papír kószál itthon, sütőpapír az pont nem. Mivel már belevágtam (az ilyet nem szabad visszafagyasztani, mert elég undorító lesz utána) így a sütőpapírt kicseréltem alufóliára, mert az volt itthon. A csere egyszerű volt, tepsiből nem létező sütőpapír kidob, alufólia beterít.</p>

<p>A következő utasítás az volt, hogy 185 fokon kell sütni. Mivel nekem csak ilyen nempontos gázsütőm van, belöktem 5-ös fokozatra, és felhúztam az órát öt percre, ha nagyon elszaladna a ló, ott még lehet korrigálni mondjuk egy 4-es fokozattal. Kimentem, semmi extra, rápörgettem még 5-öt a kisvekkerre (a címke 10-12 perces sütést ír, de ez valami sablonból van, sosem vettem még olyan terméket, amit tényleg meg lehett volna csinálni ennyi idő alatt. A jobbik esetben nyers volt, a rosszabbikban&#8230; hát&#8230; érdekesen sötét).</p>

<p>Csörgésre lustán kiballagtam (+1-2 perc), megvizsgáltam úgy szemileg, meg megbökdöstem a kés hegyével, lagymatag és puha volt, szóval kollektív döntésként született, hogy kell neki még 5 perc. Kisvekker orrát megtekertem megint.</p>

<p>Miután megint egy cikk kellős közepébe csörgött bele a határidő, így úgy döntöttem, hogy egy életem, egy halálom, én bizony ezt nem fogom visszarakni a sütőbe, lett légyen akármilyen is az a sütemény. Végül nem volt szükség ilyen kemény elhatározásra, a süti magától is nagyon szép állagú lett, picit barna, de az nem baj.</p>

<p><a target="_blank" title="Suti @ Tepsi" href="http://static.hron.me/imgpaste/blog/IMG_20130303_160141.jpg"><img src="http://static.hron.me/imgpaste/blog/IMG_20130303_160141.jpg" alt="Suti @ Tepsi" width="324" height="245" /></a></p>

<p>A kiszedéssel viszont megszenvedtem. Mondjuk úgy, hogy nem véletlen ajánlanak ehhez sütőpapírt, bár az is csak felezi a kiszedési időt, ellenben megkönnyíteni nem fogja. A fahéjas töltelék ugyanis elég ragaszkodó természetű, viszont engem annyira nem kedvel, inkább az alufólia iránt mutatott élénk érdeklődést. Végül több, mint 20 perces hősies küzdelem után rá tudtam beszélni arra, hogy egy rongyos, összetépett, ragacsos alufólia közel sem annyira vonzó, mint egy szép új kéztőrlővel leterített tiszta tányér.</p>

<p><a target="_blank" title="Suti @ Tanyer" href="http://static.hron.me/imgpaste/blog/IMG_20130303_161610.jpg"><img src="http://static.hron.me/imgpaste/blog/IMG_20130303_161610.jpg" alt="Suti @ Tanyer" width="324" height="245" /></a></p>

<p>Tanulságok:</p>

<ul>
<li>Kell venni egy tekercs sütőpapírt, akkor is, ha csak szökőévente egyszer támad ilyen ötletem.
Mivel nem romlik meg, nem szagosodik meg, valamint alig foglal helyet, így mindenképpen megéri,
főleg, mert elég sok időt megspórol.</li>
<li>Sose higyjünk a címkére írt sütési utasításnak vakon. Mindig ellenőrizzük szemileg a készülő
termék állagát, mert azt a címkét Átlag Istvánné szül. Mindegy Jolán számára írták, nem pedig nekünk.</li>
</ul>


<p>Ettől eltekintve ízre semmi probléma, a kicsit megkaramellizálódott alap pedig abszolút nem okoz problémát.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/rails-pre-commit-hook/">Rails pre-commit hook</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just created this small hook for my Rails projects. It helps me to make my codebase clean.</p>

<div><script src='https://gist.github.com/4774014.js?file=git-pre-commit-hook.rb'></script>
<noscript><pre><code>#!/usr/bin/env ruby

require 'erb'
require 'yaml'
require 'pp'

lines = %x{git diff-index --cached --name-only HEAD}.split(/[\r\n]+/)

ENV['RAILS_ENV'] = 'test'

lines.each do |file|
  if File.exists?(file) and file =~ /\.(rb|rake|god)$/
    print &quot;[SYNTAX] #{file} - &quot;
    ret = system(&quot;ruby -c '#{file}'&quot;)
    exit 1 unless ret

    if file =~ /_test\.rb$/
      print &quot;[UNIT  ] #{file} - &quot;
      unitcmd = &quot;ruby -Ilib:test #{file}&quot;
      unitcmd = &quot;bundle exec #{unitcmd}&quot; if File.exists?('Gemfile')
      ret = system(unitcmd)
      exit 1 unless ret
    end

    if file =~ /_spec\.rb$/
      print &quot;[SPEC  ] #{file} - &quot;
      rspeccmd = &quot;rspec #{file}&quot;
      rspeccmd = &quot;bundle exec #{rspeccmd}&quot; if File.exists?('Gemfile')
      ret = system(rspeccmd)
      exit 1 unless ret
    end
  end

  if File.exists?(file) and File.basename(file) =~ /^(Capfile|Gemfile|Guardfile|Rakefile|config.ru)$/
    print &quot;[SYNTAX] #{file} - &quot;
    ret = system(&quot;ruby -c '#{file}'&quot;)
    exit 1 unless ret
  end

  if File.exists?(file) and file =~ /\.feature$/
    print &quot;[ (::) ] #{file} - &quot;
    ENV['CUCUMBER_FORMAT'] = 'progress'
    cuccmd = &quot;cucumber #{file}&quot;
    cuccmd = &quot;bundle exec #{cuccmd}&quot; if File.exists?('Gemfile')
    ret = system(cuccmd)
    exit 1 unless ret
  end

  if File.exists?(file) and file =~ /\.(yml|yaml)$/
    print &quot;[SYNTAX] #{file} - &quot;
    begin
      # Load with erb to avoid problems with cucumber's yml
      erb = ERB.new(IO.read(file)).result(binding)
      yaml = YAML.load(erb)
      puts &quot;Syntax OK&quot;
    rescue SyntaxError =&gt; ex
      puts ex.message
      exit 1
    rescue ArgumentError =&gt; ex
      puts ex.message
      exit 1
    end
  end
end
</code></pre></noscript></div>


<p>You can clone it at <a href="https://gist.github.com/hron84/4774014">Gist</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/gitiles-install-howto/">Gitiles Install Howto</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>I sucked a bit with <a href="https://code.google.com/p/gitiles/">Gitiles</a>, Gerrit&#8217;s Gitweb implementation, because this project lacks an INSTALL file.</p>

<p>So, basically you have to do following:</p>

<ul>
<li><p>First, check out of the source:</p>

<p> <code>git clone https://gerrit.googlesource.com/gitiles</code></p></li>
<li><p>After you cloned the source, compile it with <a href="http://maven.apache.org/">Maven</a>:</p>

<p> <code>mvn package -Dmaven.test.skip=true</code></p></li>
</ul>


<p>  Now, you got <strong>gitiles-war-1.0-SNAPSHOT.war</strong> in gitiles-war/target folder. Deploy it under your application server, in this case I put it to Jetty&#8217;s webapps folder.</p>

<ul>
<li>Tricky part is coming: you will faced with an error message, what says some configuration options are missing. This is because you didn&#8217;t created any configuration file yet. By default, webapp searches its configuration in the webapp root folder, but - because jetty explodes this folder every restart, I decided to put it to some more persistent place. I am do not run any other thing under this Jetty than Gerrit and Gitiles, so I created the gitiles.config under Jetty&#8217;s etc folder:</li>
</ul>


<figure class='code'><figcaption><span>gitiles.config</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>[gitiles]
</span><span class='line'>    # Repositories placed here
</span><span class='line'>    basePath = /srv/git/repositories
</span><span class='line'>    # Do not check they are exported
</span><span class='line'>    exportAll = true
</span><span class='line'>    # This URL will be displayed as clone URL. DO NOT FORGET TRAILING SLASH!
</span><span class='line'>    baseGitUrl = ssh://cr.hron.me:29418/
</span><span class='line'>    # Title of site (doh)
</span><span class='line'>    siteTitle  = Gitiles - kingmax.hron.me:/srv/git/repositories
</span><span class='line'>    # I dunno why, but it is have to be configured.
</span><span class='line'>    canonicalHostName = kingmax.hron.me
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>The config file above is cool, but Gitiles still crying&#8230; yeah, because you have to tell where it should find that. To do this, you must export a System property <strong>com.google.gitiles.configPath</strong>. I was <em>very</em> lazy, so I edited jetty.xml and before last closing tag I pasted this:</li>
</ul>


<figure class='code'><figcaption><span>jetty.xml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Call</span> <span class="na">class=</span><span class="s">&quot;java.lang.System&quot;</span> <span class="na">name=</span><span class="s">&quot;setProperty&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Arg&gt;</span>com.google.gitiles.configPath<span class="nt">&lt;/Arg&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Arg&gt;&lt;SystemProperty</span> <span class="na">name=</span><span class="s">&quot;jetty.home&quot;</span> <span class="na">default=</span><span class="s">&quot;.&quot;</span> <span class="nt">/&gt;</span>/etc/gitiles.config<span class="nt">&lt;/Arg&gt;</span>
</span><span class='line'><span class="nt">&lt;/Call&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/nginx-bevezeto/">Nginx - Bevezetés</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ezen cikk a tervek szerint egy sorozat része lesz, amely majd szép lassan (ahogy időm engedi) kerül ki a blogra.</p>

<p>Lássuk tehát az első részt, mely - ahogy a cím is utal rá - egyfajta általános bemutatása lesz ennek a pici webszervernek.</p>

<h2>Mi az Nginx?</h2>

<p>Az <a href="http://www.nginx.org/">Nginx</a> neve az angol Engine X (X motor) kifejezésből származik, ejteni is eszerint kell, tehát <code>ˈen-jən eks</code>.</p>

<p>Magát a motort egy Igor Sysoev nevű srác fejleszti 2002 óta, a kód maga 2004-ben lett nyilvános. Az elsődleges cél egy
pehelysúlyú, ugynakkor skálázható webszerver létrehozása volt, mely képes egy online tartalomszolgáltatónál felmerülő legtöbb
problémával megbirkózni, például az ún. C10K problémával, a legtöbb akkori webszervernek ugyanis problémát okozott egyidejűleg több,
mint 10 000 kapcsolatot kezelni.</p>

<p>Jelenleg az Nginx a világ harmadik legnépszerűbb webszervere, a <a href="http://news.netcraft.com/archives/2012/">2012-es NetCraft felmérés</a> szerint az összes mért oldal 12.07%-át
Nginx segítségével szolgálják ki.</p>

<h2>Az Nginx előnyei</h2>

<p>De mi teszi oly népszerűvé ezt a furcsa nevű webszervert? Mi az, amiért egyre-másra jelennek meg leírások, tutorialok hozzá, ami
a legbiztosabb jele egy termék népszerűségének?</p>

<p>Az egyik kétségtelen ok a gyorsaság. Az Nginx statikus fájlok kiszolgálásában és proxyként is sokkal nagyobb sebességgel szolgál ki
elődjeinél. A Wordpress.com <a href="http://highscalability.com/blog/2012/9/26/wordpresscom-serves-70000-reqsec-and-over-15-gbitsec-of-traf.html">mérései</a> szerint - megfelelő gép mellett - az átlagos 70000 req/s simán elérhető vele.</p>

<p>Ennek az egyik oka az, hogy az Nginx nem feltétlenül forkol mindig külön processzt vagy szálat az új kapcsolatoknak, ahogy pl. az Apache
egyes feldolgozómoduljai (prefork, ITK) teszik, sőt erre nincs is szüksége, mert eseményalapú a feldolgozása, így nem csak több kapcsolatot,
de több eseményt is le tud egyetlen feldolgozó szál kezelni. Ennek köszönhető egyébként az is, hogy hasonló terhelés mellett a memóriaigénye
messze elmarad a klasszikus webszerverekétől. Erről bővebben <a href="http://www.ichilton.co.uk/blog/web/nginx-and-why-you-should-be-running-it-instead-of-or-at-least-in-front-of-apache-380.html">itt</a> lehet olvasni.</p>

<p>A másik oka az, hogy az Nginx sokkal agresszívebben cachel a memóriában az elődjeinél. Megfelelő konfigurálás és többé-kevésbé fix (nem, vagy ritkán
változó) tartalom mellett elérhető az, hogy gyakorlatilag a memóriából történjen a kiszolgálás.</p>

<p>A pufferelés egyébként nagyon sokrétűen konfigurálható, ugyanakkor nem a legkönnyebben emészthető téma.</p>

<p>Előnye még a jó minőségű dokumentáció. A legtöbb modulnak nagyon részletes dokumentációja van, néhány konkrét használati eseteket is bemutat,
mely teljes biztonsággal átvehető egy az egyben a saját konfigurációnkba.</p>

<p>További előnyeként szokták sorolni a konfigurációs fájl könnyű érthetőségét. Akik valamilyen C szintaxisú nyelvben (PHP, Perl, C/C++, Java, stb)
programoznak, azoknak nagyon is ismerős lehetnek a blokkok és a sorvégi pontosvesszök, melyekből a konfiguráció felépül.</p>

<p><em>A következő cikkben az Nginx és a PHP kapcsolatát fogom bemutatni, és példákon keresztül szemlélteni</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/avatar-tortenelem/">Avatar történelem</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>Este újra megnéztem az Avatar-t, éjjel pedig furcsa álmom volt. Gyakorlatilag továbbálmodtam a történetet, pedig ez ritka eset nálam.</p>

<p>Szóval, a sztori lényege az, hogy Jake, miután az emberek többsége elhagyja a bolygót, két ottmaradt tudóssal nekiáll felfedezni azt. Az gondolom
már a filmből is mindenki számára világos volt, hogy ez gyakorlatilag egy hatalmas, dúsan burjánzó dzsungel. Ami nem, az az, hogy a bolygón
vannak olyan helyek, &#8220;szent helyek&#8221;, ahova még a Navik se mennek túl sűrűn. Jake bemerészkedik az egyik ilyen helyre (amit persze a népe nem igazán helyesel,
de nem igazán tiltják meg, bár figyelmeztetik őt a veszélyre). Mint kiderül, ezek a helyek valójában romok, egy fejlett, de letűnt civilizáció romjai.</p>

<p>Ha hasonlítani kellene, akkor a földi dél-amerikai civilizációhoz hasonlítanám, azonban annál sokkal fejlettebb, idősebb civilizációról van szó. Azt tudjuk,
hogy a ma ismert Navik együtt élnek a természettel, igyekeznek minél kevesebb kárt okozni. Nos, elődeik kapcsolata a természettel ennél sokkal bonyolultabb
volt. Bár ők is természetimádó nép voltak, azért az nem okozott nekik gondot, hogy a nagy erdőségekből kis ligeteket csináljanak, miközben terjeszkedtek.</p>

<p>No, de vissza a sztorihoz. Szóval Jake bemerészkedik az egyik ilyen romba, felderíti, és találnak pár érdekes leletet, köztük néhány vésetekkel teli kőtáblát.
Ezeken főképp képek láthatóak, írás szinte alig, de annyit azért sikerül kiolvasni belőle, hogy itt egy fejlett civilizáció lakott, elég nagy lélekszámmal.
Találtak néhány térképet is a holdról, illetve olyan szintű leírásokat az óriásbolygóról, ami egyértelművé teszi, hogy űrutazásra képes fajról van szó.</p>

<p>Egy másik romban, találnak egy furcsa, fallal lezárt helységet. Majd&#8217; egy hónapjuk rámegy, mire sikerül kitalálni, hogy jussanak be. Bent két asztalt találnak,
két-két székkel, a mennyezeten pedig fura díszítésű panelek lógnak a két asztal felett. Az egyik kutató, aki korábban azt próbálta meg kitalálni, hogy milyen jellegű
mezőgazdasága volt a civilizációnak, fáradtan roskadt le az egyik székre&#8230; majd meglepően gyorsan el is aludt. Néhány perc múlva felébredt, és elmondta, hogy rájött
a megoldásra, ilyen és ilyen eszközöket használtak, stb. Mivel erre vonatkozóan eddig semmilyen bizonyítékot nem leltek, persze mindenki kételkedett a szavában.
Pár nappal később azonban felfedeztek pár mezőgazdasági témájú vésetet, ami pontosan megfelelt a kutató által vázoltaknak. Néhány további kísérlet után rájöttek, hogy
a szoba egyfajta tudástárként működik, letölti a betérő fejébe azokat a válaszokat, melyekre kiváncsi.</p>

<p>Jake közben talál egy kötáblát, tele neveknek és dátumoknak tűnő vésetekkel. Ő is kipróbálja a szobát, és valami különös történik&#8230;</p>

<p>Az a tábla valóban neveket tartalmazott, méghozzá különböző uralkodók neveit. Amikor Jake leül a szobában, egy név jár folyamatosan a fejében, a szoba pedig hozzáférhetővé
teszi számára ezen uralkodó naplóját. Mint kiderül, a Navik ősei nem volt egységes faj, az egyes klánok közt folyamatos volt a viszálykodás. Az az uralkodó, akinek a
naplójához Jake hozzáfért, az utolsók egyike volt. A faj hosszú életű volt, a száz helyi év teljesen átlagos kornak számított, a mai embernél talán valahol 50-60 évnek felel meg.
Az uralkodó naplójába gondosan feljegyezte az általa vívott harcok minden eseményét. Pusztító harcok voltak ezek, rengeteg áldozattal. A naplóbejegyzésekből azonban az is kiderül,
hogy írójuk belefásult a harcba, értelmetlennek találja, ő maga már nem is nagyon támadt, csak a városát védelmezte. Mivel tisztában van azzal, hogy nem győzhet, összedob egy csapatot nőkből és gyerekekből, akiket beküld az egyik erdőbe. Pár évvel később egy - közelebbről meg nem nevezett - fegyver elpusztítja az egész civilizációt, a naplót író uralkodó is teljesen véletlenül menekül meg.</p>

<p>Csatlakozik a menekültek csapatához, és elhatározzák, hogy újrakezdik, de az alapoktól. Megtiltja, hogy visszamenjenek a romokhoz (nem mintha nagyon lenne miért&#8230;), és
elkezdenek az ősi módon élni, gyűjtögetni, vadászni&#8230; Ő maga is csak egyszer megy vissza - a halála előtt nem sokkal -, hogy befejezze a naplóját.</p>

<p>A Navik faja tehát újrakezdés, visszatértek ősi gyökereikhez, és teljesen elfeledték a múltat.</p>

<p>Jake és csapata úgy dönt, hogy erről nem szólnak a Naviknak. Ha egyszer maguktól megtalálják a tudástárt, hát legyen, de nem látják értelmét annak, hogy ezt a népet
megbolygassák ilyen szörnyű emlékekkel.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/rails-polimorf-vilag/">Rails - polimorf világ</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>Azért vannak dolgok, amikkel lehet szépeket szívni.</p>

<p>A feladat valami olyasmi volt, hogy kell egy újrafelhasználható &#8220;cím&#8221; osztály, ami külön táblára is képeződne le, hogy ne a megfelelő táblákat terheljük feleslegesen, plusz a címek amúgy se mindig kellenek pl. a felhasználókezeléshez. Azért kell újrafelhasználhatónak lennie, mert két különböző dolog is használ címeket a rendszerben.</p>

<p>Nem akarom nagyon húzni az időt, az alábbi kód született rá:</p>

<figure class='code'><figcaption><span>Polimophic user profile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Address</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">belongs_to</span> <span class="ss">:addressable</span><span class="p">,</span> <span class="ss">:polymorphic</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">has_many</span>  <span class="ss">:addresses</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:addressable</span>
</span><span class='line'>  <span class="n">has_one</span>   <span class="ss">:billing_address</span> <span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:addressable</span><span class="p">,</span> <span class="ss">:class_name</span> <span class="o">=&gt;</span> <span class="s1">&#39;Address&#39;</span><span class="p">,</span> <span class="ss">:conditions</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:billable</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">:shippable</span> <span class="o">=&gt;</span> <span class="kp">false</span> <span class="p">}</span>
</span><span class='line'>  <span class="n">has_one</span>   <span class="ss">:shipping_address</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:addressable</span><span class="p">,</span> <span class="ss">:class_name</span> <span class="o">=&gt;</span> <span class="s1">&#39;Address&#39;</span><span class="p">,</span> <span class="ss">:conditions</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:shippable</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">:billable</span> <span class="o">=&gt;</span> <span class="kp">false</span> <span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Erre kedves barátom azt mondaná, hogy szép baleset. És akkor még nagyon finoman fogalmazna. Nézzük, mik azok a buktatók, amin át lehet esni egy ilyet nézve:</p>

<ul>
<li>A has_many asszociáció ugye azért kell, hogy legyen valami, ami polimorf. Elvben bele lehet suvasztani a has_one mellé is, de nekem egyébként is kell tudnom a címeket egyben
lekérni, akkor meg miért ne emelném ki?</li>
<li>Az előbbi asszociáció alapján definiálunk két hozzárendelést. Ugye itt a hangsúly a :conditions hashen van, ez mondja meg, hogy a polimorf tömbből mely adatok kellenek
(pontosabban, hogy az asszociáció alapján generált query-ben a WHERE feltétel hogyan bővüljön)</li>
<li>Az egyik trükk az, hogy mindenképp meg kell adni az osztályt is, ugyanis a has_one asszociáció <em>nem</em> kéri le ezt az infót a hivatkozott polimorf asszociációtól, hanem saját
maga áll neki találgatni - természetesen rosszul.</li>
<li>A másik trükk pedig, hogy mivel ez egy kétparaméteres, egymást kölcsönösen kizáró feltétel, így <em>mindkettőt</em> meg kell adni, különben létrehozáskor előjöhet olyan csúfság, hogy
valaki meghinteli a dupla false-t - vagyis úgy mentünk el pl. egy billing címet, hogy az elvész az :addresses tömb nevű fekete lyukban (van értelme amúgy a dupla false-nak is,
csak abból nem billing meg shipping címek lesznek, hanem csak címek). Azaz, mentéskor a billing_address-en keresztül mentünk, de a mentés után a billing_address pont ugyanolyan
<code>nil</code> lesz, mint előtte volt vala.</li>
</ul>


<p>Azért ezzel is sikerült egy jó órát szívni&#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/redishash-this-hash-is-a-db/">RedisHash - this hash is a db!</a></h1>
    
    
      <p class="meta">
        
      </p>
    
  </header>


  <div class="entry-content"><p>I started to understand how [Redis] is working and how can I use it in my projects. In my current project I collect some informations with background jobs, and store these informations in Redis. I choosen this way because these data should not be really persistent (that&#8217;s why I not decided to use MySQL as storage) because it can be collected quickly again if vanishes (it collected periodically) but I would like to access it quickly.</p>

<p>Redis has a beautiful interface to handle data. However, I usually like if the data storing logic is separated from my business logic. After some thinking I decided to store object in a easiest way I can: I store them in a &#8220;smart&#8221; hash. Basically, all hashes are key-value store, and Redis is a key-value store too. So, I extended ruby&#8217;s <code>Hash</code> class, and overriden some methods&#8230;</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/redishash-this-hash-is-a-db/">More &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar last">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/06/gento-para-vagy-nem-para/">Gento - Para vagy nem para</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/rename-windows-8-profile-dir/">Rename Windows 8 Profile dir</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/nginx-es-php/">Nginx és PHP</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/hazi/">Házi, magam sütöttem</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/rails-pre-commit-hook/">Rails pre-commit hook</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/tags/android'>android (1)</a></li><li><a href='/blog/tags/bear'>bear (3)</a></li><li><a href='/blog/tags/blog'>blog (1)</a></li><li><a href='/blog/tags/brno'>brno (2)</a></li><li><a href='/blog/tags/centos'>centos (1)</a></li><li><a href='/blog/tags/continous-deployment'>continous deployment (1)</a></li><li><a href='/blog/tags/cooking'>cooking (1)</a></li><li><a href='/blog/tags/cookinig'>cookinig (1)</a></li><li><a href='/blog/tags/drupal'>drupal (2)</a></li><li><a href='/blog/tags/en'>en (8)</a></li><li><a href='/blog/tags/fantasy'>fantasy (1)</a></li><li><a href='/blog/tags/gentoo'>gentoo (2)</a></li><li><a href='/blog/tags/git'>git (2)</a></li><li><a href='/blog/tags/google-authenticator'>google authenticator (1)</a></li><li><a href='/blog/tags/hetkoznapok'>hetkoznapok (14)</a></li><li><a href='/blog/tags/hirek'>hirek (1)</a></li><li><a href='/blog/tags/hogyan'>hogyan (5)</a></li><li><a href='/blog/tags/hu'>hu (83)</a></li><li><a href='/blog/tags/humor'>humor (1)</a></li><li><a href='/blog/tags/humour'>humour (1)</a></li><li><a href='/blog/tags/it'>it (33)</a></li><li><a href='/blog/tags/java'>java (2)</a></li><li><a href='/blog/tags/jenkins'>jenkins (2)</a></li><li><a href='/blog/tags/jetty'>jetty (1)</a></li><li><a href='/blog/tags/konyha'>konyha (3)</a></li><li><a href='/blog/tags/linux'>linux (16)</a></li><li><a href='/blog/tags/mac'>mac (2)</a></li><li><a href='/blog/tags/nem-kategorizalt'>nem-kategorizalt (7)</a></li><li><a href='/blog/tags/nginx'>nginx (2)</a></li><li><a href='/blog/tags/openid'>openid (1)</a></li><li><a href='/blog/tags/php'>php (2)</a></li><li><a href='/blog/tags/pic'>pic (3)</a></li><li><a href='/blog/tags/posterous'>posterous (1)</a></li><li><a href='/blog/tags/programozas'>programozas (6)</a></li><li><a href='/blog/tags/qt'>qt (1)</a></li><li><a href='/blog/tags/rails'>rails (7)</a></li><li><a href='/blog/tags/recipe'>recipe (1)</a></li><li><a href='/blog/tags/repository'>repository (1)</a></li><li><a href='/blog/tags/ruby'>ruby (7)</a></li><li><a href='/blog/tags/rvm'>rvm (1)</a></li><li><a href='/blog/tags/ssh'>ssh (1)</a></li><li><a href='/blog/tags/sysadmin'>sysadmin (1)</a></li><li><a href='/blog/tags/tech'>tech (2)</a></li><li><a href='/blog/tags/testing'>testing (1)</a></li><li><a href='/blog/tags/teszt'>teszt (1)</a></li><li><a href='/blog/tags/thinking'>thinking (3)</a></li><li><a href='/blog/tags/travel'>travel (2)</a></li><li><a href='/blog/tags/tudomany'>tudomany (6)</a></li><li><a href='/blog/tags/tutorial'>tutorial (6)</a></li><li><a href='/blog/tags/utazas'>utazas (1)</a></li><li><a href='/blog/tags/windows'>windows (5)</a></li><li><a href='/blog/tags/windows-8'>windows-8 (1)</a></li><li><a href='/blog/tags/wordpress'>wordpress (1)</a></li></ul>
</section>
<section>
    <h1>StackOverflow Profile</h1>
    <p>
        <a href="http://stackoverflow.com/users/182474/gabor-garami">
            <img src="http://stackoverflow.com/users/flair/182474.png" width="208" height="58" alt="profile for Gabor Garami at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for Gabor Garami at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
        </a>
    </p>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/hron84">@hron84</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'hron84',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("hron84", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/hron84" class="twitter-follow-button" data-show-count="false">Follow @hron84</a>
  
</section>


  
</aside>
<div class="rule">&nbsp;</div>

    </div>
  </div>
  <footer role="contentinfo"><div id="footer" class="clearfix">
  <div class="site">
    <div class="copy">
      
      Copyright &copy; 2013 - Gábor Garami &mdash; Some rights reserved<br/>
      <small class="license">
        Contents and design are licensed under the terms of <br/>
        <a href="http://creativecommons.org/licenses/by-sa/3.0/">
          <img src="/images/cc.png" alt="creativecommons" />
          &nbsp;CreativeCommons BY-SA 3.0 Unported License</a>
      </small>
    </div>
    <div class="powa">
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span><br/>
      <span class="credit">Hosted by <a href="https://github.com/">GitHub Pages</a></span>
    </div>
  </div>
</div>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'hron84';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
